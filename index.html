<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>JAMAL MONTGOMERY - VOODOO FOOD</title>
    <!-- Inclusion de React, ReactDOM et Babel via CDN -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script crossorigin src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- Importation des polices Google Fonts -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono:wght@400;700&display=swap');
    </style>
    <style>
        /* Styles CSS */
        body {
            margin: 0;
            padding: 0;
            background-color: #FFFEF5; /* Couleur crème très légère */
            font-family: 'Montserrat', sans-serif;
            overflow-x: hidden;
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: 'Roboto Mono', monospace;
            margin: 0;
            padding: 0;
        }

        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .header {
            width: 100%;
            padding: 2em;
            box-sizing: border-box;
            text-align: center;
            position: relative;
            overflow: hidden; /* Pour contenir les images positionnées absolument */
        }

        .header h1 {
            font-size: 6vw;
            font-weight: bold;
            color: #FF5722;
            transform: rotate(-5deg);
            margin: 0.5em 0;
        }

        .header h2 {
            font-size: 4vw;
            color: #2196F3;
            transform: rotate(5deg);
            margin: 0.5em 0;
        }

        .header h3, .header h4 {
            font-size: 1.5vw;
            color: #000;
            margin: 0.5em 0;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 10vw;
            }
            .header h2 {
                font-size: 7vw;
            }
            .header h3, .header h4 {
                font-size: 3vw;
            }
        }

        .gallery {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1em;
            padding: 2em;
            width: 100%;
            box-sizing: border-box;
        }

        .gallery img {
            width: 100%;
            height: auto;
            object-fit: cover;
            transition: opacity 1s ease-in-out;
        }

        @media (min-width: 768px) {
            .gallery {
                grid-template-columns: 1fr 1fr;
            }
        }

        @media (min-width: 1024px) {
            .gallery {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        .footer {
            padding: 2em;
            text-align: center;
            font-size: 0.8em;
            color: #777;
        }

        /* Styles pour les éléments animés dans le header */
        .header .animated-element {
            position: absolute;
            width: 20%; /* Taille ajustée */
            opacity: 0;
            pointer-events: none;
            transition: opacity 1s ease-in-out, filter 1s ease-in-out;
            filter: blur(10px);
        }

        @media (max-width: 768px) {
            .header .animated-element {
                width: 35%; /* Taille sur les petits écrans */
            }
        }
    </style>
    <!-- Script pour désactiver le clic droit -->
    <script>
        document.addEventListener('contextmenu', event => event.preventDefault());
    </script>
</head>
<body>
    <div id="root"></div>
    <!-- Ajout de data-presets="env,react" -->
    <script type="text/babel" data-presets="env,react">
        // Code JSX
        function App() {
            return (
                <div className="container">
                    <Header />
                    <Gallery />
                    <Footer />
                </div>
            );
        }

        function Header() {
            return (
                <header className="header">
                    <h1>JAMAL MONTGOMERY</h1>
                    <h2>Directeur Artistique</h2>
                    <h3>Voodoo Food Digger.</h3>
                    <h4>Based in Marseille, shaped by its esoteric forces.</h4>
                    <AnimatedElements />
                </header>
            );
        }

        function AnimatedElements() {
            const images = [
                'https://www.zupimages.net/up/24/41/3ln2.png',
                'https://www.zupimages.net/up/24/41/5vx9.png',
                'https://www.zupimages.net/up/24/41/hjak.png',
                'https://www.zupimages.net/up/24/41/mnyg.png'
            ];

            const [elements, setElements] = React.useState([]);

            React.useEffect(() => {
                images.forEach((src, index) => {
                    const delay = index * 1000; // Démarrage échelonné
                    setTimeout(() => {
                        animateElement(src);
                    }, delay);
                });
            }, []);

            function animateElement(src) {
                const durationVisible = Math.random() * 2000 + 3000; // 3 à 5 secondes
                const durationHidden = Math.random() * 3000 + 2000; // 2 à 5 secondes

                const element = {
                    id: Math.random(),
                    src: src,
                    style: getRandomPosition(),
                    visible: true,
                };

                setElements(prev => [...prev, element]);

                setTimeout(() => {
                    setElements(prev => prev.filter(e => e.id !== element.id));
                    setTimeout(() => {
                        animateElement(src);
                    }, durationHidden);
                }, durationVisible);
            }

            function getRandomPosition() {
                return {
                    top: Math.floor(Math.random() * 80) + '%', // Entre 0% et 80%
                    left: Math.floor(Math.random() * 80) + '%', // Entre 0% et 80%
                };
            }

            return (
                <>
                    {elements.map(element => (
                        <img
                            key={element.id}
                            src={element.src}
                            alt="Animated Element"
                            className="animated-element"
                            style={{
                                ...element.style,
                                opacity: element.visible ? 1 : 0,
                                filter: element.visible ? 'blur(0px)' : 'blur(10px)',
                            }}
                        />
                    ))}
                </>
            );
        }

        function Gallery() {
            const allImages = [
                'https://cdn.midjourney.com/9ce22e9e-7234-411d-9361-be73d7bec66d/0_2.png',
                'https://cdn.midjourney.com/58080eca-ffe2-43cb-90e9-697fec683c2e/0_0.png',
                'https://cdn.midjourney.com/14789a1b-7e14-4ce3-9ae4-68e6a6500753/0_2.png',
                'https://cdn.midjourney.com/67212dae-346f-48fa-a657-318d0623adc2/0_0.png',
                'https://cdn.midjourney.com/446a9c61-0684-4a79-92ee-cf9fff592387/0_1.png',
                'https://cdn.midjourney.com/f6a9a895-2b63-4852-bb11-536897f4d4fd/0_2.png',
                'https://cdn.midjourney.com/5de641ef-176e-4e0f-a56a-39ac270544b3/0_1.png',
                'https://www.zupimages.net/up/24/42/sylp.jpg',
                'https://cdn.midjourney.com/f346355f-44f5-435e-87ea-ac4f7129ff03/0_2.png',
                'https://www.zupimages.net/up/24/42/qmbc.png',
                'https://www.zupimages.net/up/24/42/7ufu.png',
                'https://www.zupimages.net/up/24/42/batj.png',
                'https://www.zupimages.net/up/24/42/vyug.jpg',
                // Anciennes images
                'https://cdn.midjourney.com/019c1847-fc59-4fbb-be7c-6618fc46c5b9/0_0.png',
                'https://cdn.midjourney.com/d3ee91e2-61c8-44c2-87f0-d0390e43ebf8/0_3.png',
                'https://cdn.midjourney.com/d613cd4c-09f6-4826-9369-5a47086b8533/0_3.png',
                'https://cdn.midjourney.com/ae90ab8c-612f-4904-98cc-c5dd3493e10b/0_1.png'
            ];

            const numImagesToDisplay = 8; // Nombre d'images à afficher
            const [currentImages, setCurrentImages] = React.useState([]);

            React.useEffect(() => {
                // Sélection initiale des images
                const initialImages = [];
                const usedIndices = new Set();
                while (initialImages.length < numImagesToDisplay && usedIndices.size < allImages.length) {
                    const index = Math.floor(Math.random() * allImages.length);
                    if (!usedIndices.has(index)) {
                        usedIndices.add(index);
                        initialImages.push(allImages[index]);
                    }
                }
                setCurrentImages(initialImages);

                // Configuration de l'intervalle pour changer les images
                const interval = setInterval(() => {
                    setCurrentImages(prevImages => {
                        const newImages = [...prevImages];
                        const replaceIndex = Math.floor(Math.random() * newImages.length);

                        // Trouver une nouvelle image qui n'est pas déjà affichée
                        const availableImages = allImages.filter(img => !newImages.includes(img));
                        if (availableImages.length === 0) {
                            // Réinitialiser la liste des images disponibles
                            return newImages;
                        }
                        const newImage = availableImages[Math.floor(Math.random() * availableImages.length)];

                        newImages[replaceIndex] = newImage;

                        return newImages;
                    });
                }, 2500); // Changer une image toutes les 2,5 secondes

                return () => clearInterval(interval);
            }, []);

            return (
                <div className="gallery">
                    {currentImages.map((src, index) => (
                        <Image key={index} src={src} alt={`Artwork ${index + 1}`} index={index} />
                    ))}
                </div>
            );
        }

        function Image({ src, alt, index }) {
            const [visible, setVisible] = React.useState(false);

            React.useEffect(() => {
                setVisible(true);
                return () => setVisible(false);
            }, [src]);

            return (
                <img
                    src={src}
                    alt={alt}
                    style={{
                        opacity: visible ? 1 : 0,
                        transition: 'opacity 1s ease-in-out',
                        transform: `rotate(${(index % 2 === 0 ? '-' : '') + Math.floor(Math.random() * 10)}deg)`
                    }}
                />
            );
        }

        function Footer() {
            return (
                <footer className="footer">
                    <p>© {new Date().getFullYear()} JAMAL MONTGOMERY</p>
                </footer>
            );
        }

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
